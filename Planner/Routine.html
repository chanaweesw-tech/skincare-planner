<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Skincare Planner ‚Äì Routine</title>

  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300;400;500;600&display=swap"
    rel="stylesheet"
  />

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ["Noto Sans Thai", "system-ui", "sans-serif"] },
          colors: {
            skinPink: "#ff9ec8",
            skinBlue: "#b4e1ff",
            skinLav: "#d8c7ff",
            skinBg: "#f5f4ff",
          },
          boxShadow: {
            soft: "0 18px 45px rgba(15,23,42,0.14)",
          },
        },
      },
    };
  </script>
</head>

<body class="min-h-screen bg-gradient-to-br from-skinBg via-white to-skinBlue/40 font-sans text-slate-900 flex items-center justify-center">

  <div
    class="max-w-5xl w-full mx-4 md:mx-8 my-6 md:my-10 rounded-[2.5rem]
           bg-white/40 backdrop-blur-xl border border-white/50
           shadow-[0_30px_80px_rgba(15,23,42,0.18)]"
  >
    <div class="px-4 md:px-8 py-6 md:py-8">

      <!-- Top bar -->
      <div class="flex items-center justify-between mb-6">
        <div class="flex items-center gap-3">
          <button
            onclick="window.location.href='index.html'"
            class="w-9 h-9 rounded-2xl bg-white/80 shadow-soft flex items-center justify-center text-slate-500 hover:bg-white"
          >
            ‚Üê
          </button>
          <div>
            <p class="text-xs uppercase tracking-[0.25em] text-slate-400">Skincare Planner</p>
            <h1 id="routineTitle" class="text-lg md:text-xl font-semibold">
              Routine
            </h1>
          </div>
        </div>

        <div class="text-right text-xs md:text-sm">
          <p id="dateLabel" class="text-slate-500"></p>
          <p id="chipLabel" class="inline-flex items-center gap-1 px-3 py-1 rounded-full bg-white/70 shadow-soft mt-1 text-[11px] text-slate-600">
            <span class="w-2 h-2 rounded-full bg-emerald-400"></span>
            <span id="chipText">Balanced night</span>
          </p>
        </div>
      </div>

      <!-- Main layout -->
      <div class="grid md:grid-cols-2 gap-5 items-start">

        <!-- Morning -->
        <section class="relative rounded-3xl bg-white/95 shadow-soft p-4 md:p-6 overflow-hidden">
          <div class="pointer-events-none absolute -right-10 -top-10 w-28 h-28 bg-gradient-to-br from-skinBlue/50 via-skinPink/40 to-skinLav/50 blur-2xl opacity-70"></div>

          <div class="relative flex items-center gap-3 mb-3">
            <div class="w-9 h-9 rounded-2xl bg-amber-50 border border-amber-100 flex items-center justify-center">
              <span class="text-xl">üåû</span>
            </div>
            <div>
              <h2 class="text-base md:text-lg font-semibold text-slate-900">‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πâ‡∏≤</h2>
              <p class="text-xs text-slate-500">‡∏£‡∏π‡∏ó‡∏µ‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô</p>
            </div>
          </div>

          <ul id="morningList" class="relative space-y-2 mt-2 text-sm"></ul>

          <p class="relative mt-3 text-[11px] text-slate-400 italic flex items-center gap-1">
            <span class="inline-block w-1.5 h-1.5 rounded-full bg-rose-300"></span>
            ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏Å‡∏±‡∏ô‡πÅ‡∏î‡∏î‡∏ó‡∏∏‡∏Å‡πÄ‡∏ä‡πâ‡∏≤ ‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô active ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡∏¢‡∏ô‡πâ‡∏≤
          </p>
        </section>

        <!-- Night -->
        <section class="relative rounded-3xl bg-slate-950 text-slate-50 shadow-soft p-4 md:p-6 overflow-hidden">
          <div class="pointer-events-none absolute -left-16 -bottom-16 w-40 h-40 bg-gradient-to-tr from-skinPink via-skinLav to-skinBlue blur-3xl opacity-80"></div>

          <div class="relative flex items-center gap-3 mb-3">
            <div class="w-9 h-9 rounded-2xl bg-slate-900 border border-slate-700 flex items-center justify-center">
              <span class="text-xl">üåô</span>
            </div>
            <div>
              <h2 class="text-base md:text-lg font-semibold text-slate-50">‡∏ï‡∏≠‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô</h2>
              <p id="nightTitle" class="text-xs text-slate-300"></p>
            </div>
          </div>

          <ul id="nightList" class="relative space-y-2 mt-2 text-sm"></ul>

          <p class="relative mt-3 text-[11px] text-slate-400 italic flex items-start gap-1">
            ‚ö†Ô∏è
            <span id="nightNote">
              ‡∏Ñ‡∏∑‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÄ‡∏£‡∏ï‡∏¥‡∏ô‡∏≠‡∏• ‚Üí ‡∏á‡∏î Thiamidol ‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏á‡∏Å‡∏±‡∏î‡∏ú‡∏¥‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ã‡∏ü barrier ‡∏ú‡∏¥‡∏ß
            </span>
          </p>
        </section>
      </div>

      <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡∏£‡∏π‡∏ó‡∏µ‡∏ô -->
      <div class="mt-6 flex justify-end">
        <button
          onclick="finishRoutine()"
          class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-emerald-500 text-white text-sm font-medium shadow-soft hover:bg-emerald-600 active:translate-y-[1px] transition"
        >
          ‚úì ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡∏£‡∏π‡∏ó‡∏µ‡∏ô‡πÅ‡∏•‡πâ‡∏ß
        </button>
      </div>
    </div>
  </div>

  <script>
    // key ‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ routine (‡πÉ‡∏ä‡πâ‡πÄ‡∏Å‡πá‡∏ö‡∏•‡∏á localStorage)
    var routineDateKey = "";

    // ‡∏Å‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô ‚Üí ‡πÄ‡∏ã‡∏ü‡∏•‡∏á localStorage ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤ Home
    function finishRoutine() {
      if (!routineDateKey) {
        window.location.href = "index.html";
        return;
      }
      var stored = localStorage.getItem("skincareFinishedDays");
      var finished = stored ? JSON.parse(stored) : {};
      finished[routineDateKey] = true;
      localStorage.setItem("skincareFinishedDays", JSON.stringify(finished));
      window.location.href = "index.html";
    }

    // --- data ---
    var morningSteps = [
      "‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤",
      "LA GLADE Acne Care Daily Calming Pads",
      "The Ordinary Niacinamide 10% + Zinc 1%",
      "Eucerin Spotless Brightening (Thiamidol)",
      "Eucerin UltraSENSITIVE Aquaporin Gel Cream",
      "‡∏Å‡∏±‡∏ô‡πÅ‡∏î‡∏î SPF 30+ ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ"
    ];

    var nightRoutines = {
      1: {
        label: "Day 1 ‚Äì Retinol Night",
        type: "retinol",
        steps: [
          "‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤",
          "‡∏á‡∏î Pads ‡∏Ñ‡∏∑‡∏ô‡∏ô‡∏µ‡πâ (‡∏ñ‡πâ‡∏≤‡∏ú‡∏¥‡∏ß‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏´‡πâ‡∏á)",
          "Eucerin Aquaporin (buffer ‡∏Å‡πà‡∏≠‡∏ô)",
          "Glad2Glow Retinol Moisturizer",
          "‡∏ó‡∏≤ Aquaporin ‡∏ã‡πâ‡∏≥‡∏ñ‡πâ‡∏≤‡∏ú‡∏¥‡∏ß‡πÅ‡∏´‡πâ‡∏á‡∏ï‡∏∂‡∏á"
        ]
      },
      2: {
        label: "Day 2 ‚Äì Thiamidol Night",
        type: "thiamidol",
        steps: [
          "‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤",
          "LA GLADE Acne Care Daily Calming Pads",
          "Eucerin Spotless Brightening (Thiamidol)",
          "Eucerin Aquaporin"
        ]
      },
      3: {
        label: "Day 3 ‚Äì Retinol Night",
        type: "retinol",
        steps: [
          "‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤",
          "‡∏á‡∏î Pads ‡∏Ñ‡∏∑‡∏ô‡∏ô‡∏µ‡πâ (‡∏ñ‡πâ‡∏≤‡∏ú‡∏¥‡∏ß‡πÅ‡∏´‡πâ‡∏á‡∏á‡πà‡∏≤‡∏¢)",
          "Eucerin Aquaporin (buffer ‡∏Å‡πà‡∏≠‡∏ô)",
          "Glad2Glow Retinol Moisturizer",
          "‡∏ó‡∏≤ Aquaporin ‡∏ã‡πâ‡∏≥‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô"
        ]
      },
      4: {
        label: "Day 4 ‚Äì Thiamidol + ‡∏ú‡πà‡∏≠‡∏ô‡∏ú‡∏¥‡∏ß",
        type: "thiamidol",
        steps: [
          "‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤",
          "LA GLADE Acne Care Daily Calming Pads",
          "Eucerin Spotless Brightening (Thiamidol)",
          "Eucerin Aquaporin"
        ]
      },
      5: {
        label: "Day 5 ‚Äì Retinol Night",
        type: "retinol",
        steps: [
          "‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤",
          "‡∏á‡∏î Pads ‡∏Ñ‡∏∑‡∏ô‡∏ô‡∏µ‡πâ (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏™‡∏†‡∏≤‡∏û‡∏ú‡∏¥‡∏ß)",
          "Eucerin Aquaporin (buffer ‡∏Å‡πà‡∏≠‡∏ô)",
          "Glad2Glow Retinol Moisturizer",
          "‡∏ó‡∏≤ Aquaporin ‡∏õ‡∏¥‡∏î‡∏ó‡πâ‡∏≤‡∏¢"
        ]
      },
      6: {
        label: "Day 6 ‚Äì Thiamidol Night",
        type: "thiamidol",
        steps: [
          "‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤",
          "LA GLADE Acne Care Daily Calming Pads",
          "Eucerin Spotless Brightening (Thiamidol)",
          "Eucerin Aquaporin"
        ]
      },
      7: {
        label: "Day 7 ‚Äì Recovery Night",
        type: "recovery",
        steps: [
          "‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤",
          "Eucerin Aquaporin ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß (‡∏Ñ‡∏∑‡∏ô‡∏û‡∏±‡∏Å‡∏ú‡∏¥‡∏ß)",
          "‡∏á‡∏î‡∏ó‡∏∏‡∏Å active: Pads / Niacinamide / Thiamidol / Retinol"
        ]
      }
    };

    var monthNames = [
      "January", "February", "March", "April", "May", "June",
      "July", "August", "September", "October", "November", "December"
    ];

    function renderChecklist(listElement, items, dark) {
      listElement.innerHTML = "";
      for (var i = 0; i < items.length; i++) {
        var text = items[i];

        var li = document.createElement("li");
        li.className =
          "flex items-start gap-2 rounded-2xl px-2.5 py-1.5 text-[13px] md:text-sm leading-snug transition " +
          (dark ? "hover:bg-slate-900/50" : "hover:bg-slate-50");

        var checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.className =
          "mt-0.5 w-4 h-4 rounded border border-slate-300 accent-rose-400";
        checkbox.checked = true; // ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô step ‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡πâ‡∏ô

        var label = document.createElement("span");
        label.textContent = text;

        li.appendChild(checkbox);
        li.appendChild(label);
        listElement.appendChild(li);
      }
    }

    document.addEventListener("DOMContentLoaded", function () {
      var params = new URLSearchParams(window.location.search);

      var dayParam = parseInt(params.get("day") || "1", 10);
      if (isNaN(dayParam) || dayParam < 1 || dayParam > 7) {
        dayParam = 1;
      }

      var date = parseInt(params.get("date") || "0", 10);
      var month = parseInt(params.get("month") || "0", 10);
      var year = parseInt(params.get("year") || "0", 10);

      var today = new Date();
      if (!date || !month || !year) {
        date = today.getDate();
        month = today.getMonth() + 1;
        year = today.getFullYear();
      }

      // ‡πÄ‡∏ã‡πá‡∏ï key ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ã‡∏ü‡∏ß‡πà‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß
      routineDateKey =
        year + "-" +
        String(month).padStart(2, "0") + "-" +
        String(date).padStart(2, "0");

      var routine = nightRoutines[dayParam];

      var routineTitle = document.getElementById("routineTitle");
      var dateLabel = document.getElementById("dateLabel");
      var nightTitle = document.getElementById("nightTitle");
      var chipText = document.getElementById("chipText");
      var nightNote = document.getElementById("nightNote");

      routineTitle.textContent = "Day " + dayParam + " ‚Äì Skincare routine";
      dateLabel.textContent =
        "‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà " +
        date.toString().padStart(2, "0") + " " +
        monthNames[month - 1] + " " + year;

      nightTitle.textContent = routine.label;

      if (routine.type === "retinol") {
        chipText.textContent = "Retinol focus ‚Ä¢ ‡πÉ‡∏ä‡πâ 2‚Äì3 ‡∏Ñ‡∏∑‡∏ô‡∏ï‡πà‡∏≠‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå";
        nightNote.textContent =
          "‡∏Ñ‡∏∑‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡πÄ‡∏£‡∏ï‡∏¥‡∏ô‡∏≠‡∏• ‚Üí ‡∏á‡∏î Thiamidol, ‡∏Å‡∏£‡∏î‡∏ú‡∏•‡πÑ‡∏°‡πâ ‡πÅ‡∏•‡∏∞‡∏™‡∏Ñ‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡∏ô‡∏¥‡∏î ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏Ñ‡∏≤‡∏¢‡πÄ‡∏Ñ‡∏∑‡∏≠‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‚ú®";
      } else if (routine.type === "thiamidol") {
        chipText.textContent = "Brightening night ‚Ä¢ ‡πÄ‡∏ô‡πâ‡∏ô‡∏•‡∏î‡∏£‡∏≠‡∏¢‡∏™‡∏¥‡∏ß";
        nightNote.textContent =
          "‡∏Ñ‡∏∑‡∏ô‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ Thiamidol ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏£‡∏≠‡∏¢ ‚Üí ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÄ‡∏£‡∏ï‡∏¥‡∏ô‡∏≠‡∏•‡∏´‡∏£‡∏∑‡∏≠ active ‡∏ï‡∏±‡∏ß‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏ú‡∏¥‡∏ß‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ";
      } else {
        chipText.textContent = "Recovery night ‚Ä¢ ‡∏û‡∏±‡∏Å‡∏ú‡∏¥‡∏ß‡∏ü‡∏∑‡πâ‡∏ô barrier";
        nightNote.textContent =
          "‡∏Ñ‡∏∑‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏∑‡∏ô‡∏û‡∏±‡∏Å‡∏ú‡∏¥‡∏ß‡∏•‡πâ‡∏ß‡∏ô ‡πÜ ‡πÉ‡∏ä‡πâ‡∏°‡∏≠‡∏¢‡∏™‡πå‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÉ‡∏´‡πâ barrier ‡∏ü‡∏∑‡πâ‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏µ‡πà üò¥";
      }

      var morningList = document.getElementById("morningList");
      var nightList = document.getElementById("nightList");

      renderChecklist(morningList, morningSteps, false);
      renderChecklist(nightList, routine.steps, true);
    });
  </script>
</body>
</html>
